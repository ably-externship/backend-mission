<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

        {% load static %}

        <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">

        <!-- jQuery JS -->
        <script src="{% static 'jquery-3.6.0.min.js' %}"></script>

        <!-- Bootstrap JS -->
        <script src="{% static 'bootstrap.min.js' %}"></script>
        

    </head>
    <body>
      <nav class="navbar navbar-light bg-light" style="width:500px">
        <div class="container-fluid">

          <a class="navbar-brand" href='/'>ABLYY</a>
          
          <form class="d-flex" action="{% url 'product:search' %}" method="GET">
            <input class="form-control me-2" type="search" placeholder="Search" name="q" value="{{q}}">
            <button class="btn btn-light" type="submit">Search</button>
          </form>

          <a class="btn btn-light" href="{% url 'cart:cart' %}">장바구니 </a>

            {% if user.is_authenticated %}
              <a class="btn btn-light" href="{% url 'user:logout' %}">로그아웃</a>
            {% else %}
              <a class="navbar btn btn-light" href="{% url 'user:login' %}">로그인</a>
              <a class="navbar btn btn-light" href="{% url 'user:register' %}">회원가입</a>
            {% endif %}
        </div>
      </nav>
    
        {% block contents %}
        {% endblock contents %}

        {% if is_paginated %}
          <ul class="pagination">
              {% if page_obj.has_previous %}
                  <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
              {% else %}
                  <li class="disabled"><span>&laquo;</span></li>
              {% endif %}
              {% for i in paginator.page_range %}
              {% if page_obj.number == i %}
                  <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
              {% else %}
                  <li><a href="?page={{ i }}">{{ i }}</a></li>
              {% endif %}
              {% endfor %}
              {% if page_obj.has_next %}
                  <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
              {% else %}
                  <li class="disabled"><span>&raquo;</span></li>
              {% endif %}
          </ul>
        {% endif %}

    </body>
</html>